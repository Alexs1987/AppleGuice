<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Appleguice by tomersh</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Appleguice</h1>
        <h2>Effortless dependency injection framework for Objective-C</h2>
        <a href="https://github.com/tomersh/AppleGuice" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a id="appleguice" class="anchor" href="#appleguice" aria-hidden="true"><span class="octicon octicon-link"></span></a>AppleGuice</h1>

<p>Effortless dependency injection framework for Objective-C</p>

<p><a href="https://travis-ci.org/tomersh/AppleGuice"><img src="https://travis-ci.org/tomersh/AppleGuice.png?branch=master" alt="Build Status"></a>
<a href="https://coveralls.io/r/tomersh/AppleGuice?branch=master"><img src="https://coveralls.io/repos/tomersh/AppleGuice/badge.png?branch=master" alt="Coverage Status"></a></p>

<h2>
<a id="who-is-using-it" class="anchor" href="#who-is-using-it" aria-hidden="true"><span class="octicon octicon-link"></span></a>Who is using it?</h2>

<p><a href="https://itunes.apple.com/app/id408490162"><img src="http://i61.tinypic.com/30ib6hi.jpg" alt="Flashcards+"> FlashCards+</a> 
<a href="https://itunes.apple.com/app/id385758163"><img src="http://oi59.tinypic.com/517m9c.jpg" alt="CheggApp"> Chegg â€“ Textbooks, eTextbooks &amp; Study Tools</a></p>

<p>Are you using AppleGuice and your app is not on the list? <a href="mailto:github@shiri.info">Drop me a line</a>.</p>

<h2>
<a id="what-appleguice-does-for-you" class="anchor" href="#what-appleguice-does-for-you" aria-hidden="true"><span class="octicon octicon-link"></span></a>What AppleGuice does for you?</h2>

<p>AppleGuice helps you write clean, reuseable and testable code by allowing you to easily inject your services to any class.
Other dependency injection frameworks require binding, xml editing or initializing your classes with a special method.
With AppleGuice all you have to do is declare the injected type and thats it. As a bonus, you will still be able to initialize classes with <code>[[MyClass alloc] init]</code> so it is even easier to integrate it with your existing code base.</p>

<h2>
<a id="show-me" class="anchor" href="#show-me" aria-hidden="true"><span class="octicon octicon-link"></span></a>Show Me</h2>

<h3>
<a id="inject-your-first-injectable-instance-with-3-simple-steps" class="anchor" href="#inject-your-first-injectable-instance-with-3-simple-steps" aria-hidden="true"><span class="octicon octicon-link"></span></a>Inject your first injectable instance with 3 simple steps:</h3>

<h4>
<a id="start-appleguice" class="anchor" href="#start-appleguice" aria-hidden="true"><span class="octicon octicon-link"></span></a>Start AppleGuice</h4>

<pre lang="objectivec"><code>
//AppDelegate.m

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
//Some code

[AppleGuice startService];

//More Code
}
</code></pre>

<h4>
<a id="create-your-injectable-service" class="anchor" href="#create-your-injectable-service" aria-hidden="true"><span class="octicon octicon-link"></span></a>Create your injectable service</h4>

<p>Mark your injectable service with the protocol <code>AppleGuiceInjectable</code> so AppleGuice will find it.</p>

<pre lang="objectivec"><code>
@protocol MyServiceProtocol &lt;AppleGuiceInjectable&gt;

-(void) doStuff;

@end

@interface MyService : NSObject&lt;MyServiceProtocol&gt;
@end

@implementation MyService
...
@end
</code></pre>

<h4>
<a id="enjoy-automatic-injection-while-coding" class="anchor" href="#enjoy-automatic-injection-while-coding" aria-hidden="true"><span class="octicon octicon-link"></span></a>Enjoy automatic injection while coding</h4>

<p>Create an ivar prefixed with the ioc prefix (the default is <code>_ioc_</code>).
AppleGuice will automatically inject the proper implementation when calling the init method.</p>

<pre lang="objectivec"><code>//MyClass.h
@interface MyClass : NSObject

@property (nonatomic, strong) id&lt;MyServiceProtocol&gt; ioc_myService;

@end

//MyClass.m
@implementation MyClass

//Now, you can use _ioc_myService anywhere. Even in the init function!

-(id) init {
  self = [super init];
  [self.ioc_myService doStuff];
  return self;
}
@end
</code></pre>

<p>AppleGuice initialized <code>_ioc_myService</code>  without any manual binding!</p>

<h4>
<a id="stub-with-ease-while-testing" class="anchor" href="#stub-with-ease-while-testing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Stub with ease while testing</h4>

<pre lang="objectivec"><code>#import &lt;AppleGuice/AppleGuice.h&gt;

@implementation MyClassTests {
    MyClass* classUnderTest;
}

-(void)setUp
{
    [super setUp];
    [AppleGuice startService];
    [AppleGuice setInstanceCreationPolicy:AppleGuiceInstanceCreationPolicyCreateMocks];
    classUnderTest = [[MyClass alloc] init];
}

-(void) test_foo_returnsValue {
  //the injectable ivar is initialized with a mock. You can stub methods on it as you normally do with OCMock.
  [[[classUnderTest.ioc_myService expect] andReturn:@"someString"] doStuff:OCMOCK_ANY];

  [classUnderTest foo];

  [classUnderTest.ioc_myService verify];
}
</code></pre>

<p>*When testing, AppleGuice works best with <a href="http://ocmock.org/">OCMock</a>.</p>

<h2>
<a id="inject-in-every-flavour" class="anchor" href="#inject-in-every-flavour" aria-hidden="true"><span class="octicon octicon-link"></span></a>Inject In every flavour</h2>

<p>Injecting a service is done by declering an ivar in a class. You can add it in the interface, implementation, as a property or even inside a private category. AppleGuice will find it.
Injection comes in three flavours:</p>

<pre lang="objectivec"><code>@interface MyClass () {
    MyService* _ioc_MyService; //will create an instance of MyService.
    id&lt;MyServiceProtocol&gt; _ioc_MyService //will create an instance of the first class conforming to MyServiceProtocol.
    NSArray* _ioc_MyProtocol //will return an array containing instances of all classes conforming to MyProtocol
}
</code></pre>

<h2>
<a id="more-features" class="anchor" href="#more-features" aria-hidden="true"><span class="octicon octicon-link"></span></a>More features</h2>

<h3>
<a id="singletons-in-a-snap" class="anchor" href="#singletons-in-a-snap" aria-hidden="true"><span class="octicon octicon-link"></span></a>Singletons in a snap</h3>

<p>Instead of messing your code with shared instance declerations or macros, you can just add <code>AppleGuiceSingleton</code> to the implemented protocols list and AppleGuice will always return the same instance.</p>

<pre lang="objectivec"><code>@protocol MyServiceProtocol &lt;AppleGuiceInjectable, AppleGuiceSingleton&gt;
@end
</code></pre>

<h3>
<a id="circular-dependency-support" class="anchor" href="#circular-dependency-support" aria-hidden="true"><span class="octicon octicon-link"></span></a>Circular dependency support</h3>

<p>AppleGuice can handle circular depenency between injected classes as long as the dependent classes conforms to <code>AppleGuiceSingleton</code>.</p>

<h3>
<a id="lazyload-objects" class="anchor" href="#lazyload-objects" aria-hidden="true"><span class="octicon octicon-link"></span></a>LazyLoad objects</h3>

<p>You can configure AppleGuice to inject a proxy object instead of the real service. Once the service is needed (A method in the service is called) the proxy will be replaced with the real object.</p>

<pre lang="objectivec"><code>//add in your AppDelegate
[AppleGuice setInstanceCreationPolicy:AppleGuiceInstanceCreationPolicyLazyLoad];
</code></pre>

<h2>
<a id="ready-to-start" class="anchor" href="#ready-to-start" aria-hidden="true"><span class="octicon octicon-link"></span></a>Ready to start?</h2>

<p>Check out the quick <a href="https://github.com/tomersh/AppleGuice/wiki/AppleGuice-Installation-Guide">installation guide</a>.</p>

<p>Documentation can be found <a href="http://cocoadocs.org/docsets/AppleGuice">here</a>.
<a href="http://githalytics.com/tomersh/AppleGuice"><img src="https://cruel-carlota.pagodabox.com/e73586a87135304cb47ff18e519b75f6" alt="githalytics.com alpha" title="githalytics.com"></a></p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/tomersh/AppleGuice/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/tomersh/AppleGuice/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/tomersh/AppleGuice"></a> is maintained by <a href="https://github.com/tomersh">tomersh</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
